angular.module("SuhUi",["SuhGeneral"]),angular.module("SuhUi").directive("shUiDialog",["shPathTemplateProcess",function(t){return{restrict:"A",priority:0,replace:!0,templateUrl:t.getTemplatePath("dialog"),scope:!0,controller:["$scope","shDialog",function(t,e){function n(t){i.visible=!0,i.buttons=t.buttons,i.templateUrl=t.templateUrl,i.content=t.content,i.title=t.title,i.model=t.model}var i=this;i.title="",i.content="",i.model=null,i.buttons=[],i.visible=!1,i.templateUrl=null,i.hasTemplateUrl=function(){return i.templateUrl},i.hasButtons=function(){return i.buttons.length>0},i.reset=function(){i.title="",i.content="",i.model=null,i.buttons=[],i.visible=!1,i.templateUrl=null},i.close=function(){i.answer(-1)},i.answer=function(t){i.reset(),e.answer(t)},e.addEventListener("ui.ShowDialog",n,this)}],controllerAs:"dialogCtrl",link:function(t,e,n){e.draggable&&e.draggable({handle:e.find(".ui-dialog-heading").get(0)})}}}]),angular.module("SuhUi").directive("shUiToast",["shPathTemplateProcess",function(t){return{restrict:"A",replace:!0,controller:["$scope","$q","shToast",function(t,e,n){function i(t){r.toasts.push(t)}var r=this;this.toasts=[],n.addEventListener("ui.ShowToast",i,r)}],controllerAs:"toastCtrl",templateUrl:t.getTemplatePath("toast"),link:function(t,e,n){}}}]),angular.module("SuhUi").provider("shTemplatePathProcessor",[function(){var t=this;this.paths={},this.pattern="/templates/${docType}.template.html",this.add=function(e,n){t.paths[e]=n},this.setTemplatePathPattern=function(e){t.pattern=e},this.$get=[function(){return{getTemplatePath:function(e){var n,i={docType:e},r=/\$\{([\S]+?)\}/g;return this.paths[e]?this.paths[e]:n=t.pattern.replace(r,function(t,e,n){return i[e]})}}}]}]),angular.module("SuhUi").factory("shDialog",["$q","shEventEmitter","shUtil",function(t,e,n){var i=function(){e.call(this,["ui.ShowDialog"]),this.reset()};n.inherits(i,e);var r=i.prototype;return r.title=function(t){return this._title=t,this},r.content=function(t){return this._content=t,this},r.templateUrl=function(t){return this._templateUrl=t,this},r.buttons=function(t){return this._buttons=t,this},r.show=function(){var e=this;return this._df=t.defer(),this.trigger("ui.ShowDialog",{title:e._title,content:e._content,templateUrl:e._templateUrl,visible:!0,buttons:e._buttons,model:e._model}),this._df.promise},r.answer=function(t){-1!==t?this._df.resolve(t):this._df.reject(-1),this.reset()},r.data=function(t){return this._model=t,this},r.reset=function(){this._title="",this._content="",this._templateUrl="",this._buttons=[],this._model=null},new i}]),angular.module("SuhUi").factory("shToast",["$q","$timeout","shEventEmitter","shUtil",function(t,e,n,i){var r=function(){n.call(this,["ui.ShowToast"])};i.inherits(r,n);var o=r.prototype;return o.toast=function(e,n,i){var r=r.text||e,o=(r.delay||n,r.progress||i,t.defer());return this.trigger("ui.ShowToast",{text:e,delay:n||-1,progress:i,defer:o}),o.promise},new r}]);