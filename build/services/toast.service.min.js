angular.module("SuhUi").factory("shToast",["$q","$timeout","shEventEmitter","shUtil",function(t,i,s,r){var h=function(){s.call(this,["ui.ShowToast"]),this._ctrl=null,this._current=null,this._q=[]};r.inherits(h,s);var n=h.prototype;return n.toast=function(t,i,s){},h.prototype={show:function(){this._ctrl.show()},init:function(t){this._ctrl=t},hide:function(){this._ctrl.hide(),this._current[0].resolve(),this._toast()},toast:function(i,s,r){var h=s||-1,n=t.defer();return this._q.push([n,i,h,r]),this._toast(),n.promise},_toast:function(){this._q.length>0&&(this._current=this._q.shift(),this._ctrl.setText(this._current[1]).setProgress(this._current[3]),this.show(),-1!==this._current[2]&&i(jQuery.proxy(this.hide,this),this._current[2]))}},new h}]);